<!doctype html>
<html>

    <body>
    <p>This is a test.</p>
    <form id='commentsReplies'>
        <fieldset name='post'><button class='postCom' type='button'>Leave a comment</button>
        </fieldset> 
        <fieldset name="comments">
          <legend>Comments</legend>
        </fieldset>
      </form>

<script>
    // Refernce <form>
    const form = document.forms.commentsReplies;
    // Any click on <form> invokes post()
    form.onclick = post;

    // Pass the event
    function post(event) {
    /* Reference all <fieldset>
    (also <button>, <textarea>, etc) */
    const field = event.currentTarget.elements;
    // Reference the actual element clicked
    const clicked = event.target;
    // if element clicked has class postCom
    if (clicked.matches('.postCom')) {
        /* find <fieldset name="post"> and
        insert HTML into it */
        field.post.insertAdjacentHTML('beforeEnd', `<fieldset name='commentPost'><textarea></textarea><button class='comTxt' type='button'>Done</button></fieldset>`);
        // Otherwise if clicked element has class comTxt
    } else if (clicked.matches('.comTxt')) {
        /* find the clicked element's element
        that is right before it and get it's text */
        const text = clicked.previousElementSibling.value;
        /* find <fieldset name='comments'> and insert HTML */
        field.comments.insertAdjacentHTML('afterBegin', `<fieldset>${text}<button class='postRep' type='button'>Reply</button><ul></ul></fieldset>`);
        // Remove <fieldset name='commentPost'>
        field.commentPost.remove();
    } else if (clicked.matches('.postRep')) {
        clicked.insertAdjacentHTML('afterEnd', `<ul><textarea></textarea><button class='repTxt' type='button'>Done</button></ul>`);
    } else if (clicked.matches('.repTxt')) {
        const text = clicked.previousElementSibling.value;
        const list = clicked.parentElement;
        list.insertAdjacentHTML('afterBegin', `<li>${text}<button class='postRep' type='button'>Reply</button></li>`);
        clicked.previousElementSibling.remove();
        clicked.remove();
    } else {
        return false;
    }
    }

</script>


  </body>
</html>